{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LAPZONE\\\\pizza-delivery-app\\\\frontend\\\\src\\\\pages\\\\VerifyEmail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function VerifyEmail() {\n  _s();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [status, setStatus] = useState('Verifying your email...');\n  const token = searchParams.get('token');\n  const email = searchParams.get('email');\n  useEffect(() => {\n    if (!token || !email) {\n      setStatus('Invalid verification link.');\n      toast.error('Invalid verification link.');\n      navigate('/');\n      return;\n    }\n    const verify = async () => {\n      try {\n        const {\n          data\n        } = await api.get(`/auth/verify?token=${token}&email=${email}`);\n        setStatus(data.message);\n        toast.success(data.message);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Verification failed. The link may be invalid or expired.';\n        setStatus(errorMessage);\n        toast.error(errorMessage);\n      }\n    };\n    verify();\n  }, [token, email, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '40px',\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Email Verification\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), status.includes('successfully') && /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/login\",\n      style: {\n        color: '#007bff',\n        marginTop: '1rem',\n        display: 'inline-block'\n      },\n      children: \"Proceed to Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(VerifyEmail, \"ZUo/eKUsPH9MQFNhR8Hm2uZI6zY=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = VerifyEmail;\nvar _c;\n$RefreshReg$(_c, \"VerifyEmail\");","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","Link","useNavigate","api","toast","jsxDEV","_jsxDEV","VerifyEmail","_s","searchParams","navigate","status","setStatus","token","get","email","error","verify","data","message","success","_error$response","_error$response$data","errorMessage","response","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","includes","to","color","marginTop","display","_c","$RefreshReg$"],"sources":["C:/Users/LAPZONE/pizza-delivery-app/frontend/src/pages/VerifyEmail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSearchParams, Link, useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function VerifyEmail() {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const [status, setStatus] = useState('Verifying your email...');\r\n\r\n  const token = searchParams.get('token');\r\n  const email = searchParams.get('email');\r\n\r\n  useEffect(() => {\r\n    if (!token || !email) {\r\n      setStatus('Invalid verification link.');\r\n      toast.error('Invalid verification link.');\r\n      navigate('/');\r\n      return;\r\n    }\r\n\r\n    const verify = async () => {\r\n      try {\r\n        const { data } = await api.get(`/auth/verify?token=${token}&email=${email}`);\r\n        setStatus(data.message);\r\n        toast.success(data.message);\r\n      } catch (error) {\r\n        const errorMessage = error.response?.data?.message || 'Verification failed. The link may be invalid or expired.';\r\n        setStatus(errorMessage);\r\n        toast.error(errorMessage);\r\n      }\r\n    };\r\n\r\n    verify();\r\n  }, [token, email, navigate]);\r\n\r\n  return (\r\n    <div style={{ padding: '40px', textAlign: 'center' }}>\r\n      <h1>Email Verification</h1>\r\n      <p>{status}</p>\r\n      {status.includes('successfully') && (\r\n        <Link to=\"/login\" style={{ color: '#007bff', marginTop: '1rem', display: 'inline-block' }}>\r\n          Proceed to Login\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,eAAe,EAAEC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACrE,OAAOC,GAAG,MAAM,QAAQ;AACxB,SAASC,KAAK,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACpC,MAAM,CAACC,YAAY,CAAC,GAAGT,eAAe,CAAC,CAAC;EACxC,MAAMU,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,yBAAyB,CAAC;EAE/D,MAAMc,KAAK,GAAGJ,YAAY,CAACK,GAAG,CAAC,OAAO,CAAC;EACvC,MAAMC,KAAK,GAAGN,YAAY,CAACK,GAAG,CAAC,OAAO,CAAC;EAEvChB,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,KAAK,IAAI,CAACE,KAAK,EAAE;MACpBH,SAAS,CAAC,4BAA4B,CAAC;MACvCR,KAAK,CAACY,KAAK,CAAC,4BAA4B,CAAC;MACzCN,QAAQ,CAAC,GAAG,CAAC;MACb;IACF;IAEA,MAAMO,MAAM,GAAG,MAAAA,CAAA,KAAY;MACzB,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMf,GAAG,CAACW,GAAG,CAAC,sBAAsBD,KAAK,UAAUE,KAAK,EAAE,CAAC;QAC5EH,SAAS,CAACM,IAAI,CAACC,OAAO,CAAC;QACvBf,KAAK,CAACgB,OAAO,CAACF,IAAI,CAACC,OAAO,CAAC;MAC7B,CAAC,CAAC,OAAOH,KAAK,EAAE;QAAA,IAAAK,eAAA,EAAAC,oBAAA;QACd,MAAMC,YAAY,GAAG,EAAAF,eAAA,GAAAL,KAAK,CAACQ,QAAQ,cAAAH,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBH,IAAI,cAAAI,oBAAA,uBAApBA,oBAAA,CAAsBH,OAAO,KAAI,0DAA0D;QAChHP,SAAS,CAACW,YAAY,CAAC;QACvBnB,KAAK,CAACY,KAAK,CAACO,YAAY,CAAC;MAC3B;IACF,CAAC;IAEDN,MAAM,CAAC,CAAC;EACV,CAAC,EAAE,CAACJ,KAAK,EAAEE,KAAK,EAAEL,QAAQ,CAAC,CAAC;EAE5B,oBACEJ,OAAA;IAAKmB,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,SAAS,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACnDtB,OAAA;MAAAsB,QAAA,EAAI;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC3B1B,OAAA;MAAAsB,QAAA,EAAIjB;IAAM;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACdrB,MAAM,CAACsB,QAAQ,CAAC,cAAc,CAAC,iBAC9B3B,OAAA,CAACL,IAAI;MAACiC,EAAE,EAAC,QAAQ;MAACT,KAAK,EAAE;QAAEU,KAAK,EAAE,SAAS;QAAEC,SAAS,EAAE,MAAM;QAAEC,OAAO,EAAE;MAAe,CAAE;MAAAT,QAAA,EAAC;IAE3F;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CACP;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACxB,EAAA,CA1CuBD,WAAW;EAAA,QACVP,eAAe,EACrBE,WAAW;AAAA;AAAAoC,EAAA,GAFN/B,WAAW;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}