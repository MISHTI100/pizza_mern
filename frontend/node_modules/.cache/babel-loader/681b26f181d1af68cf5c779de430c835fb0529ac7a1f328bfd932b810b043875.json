{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSearchParams,Link,useNavigate}from'react-router-dom';import api from'../api';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function VerifyEmail(){const[searchParams]=useSearchParams();const navigate=useNavigate();const[status,setStatus]=useState('Verifying your email...');const token=searchParams.get('token');const email=searchParams.get('email');useEffect(()=>{if(!token||!email){setStatus('Invalid verification link.');toast.error('Invalid verification link.');navigate('/');return;}const verify=async()=>{try{const{data}=await api.get(`/auth/verify?token=${token}&email=${email}`);setStatus(data.message);toast.success(data.message);}catch(error){var _error$response,_error$response$data;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Verification failed. The link may be invalid or expired.';setStatus(errorMessage);toast.error(errorMessage);}};verify();},[token,email,navigate]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Email Verification\"}),/*#__PURE__*/_jsx(\"p\",{children:status}),status.includes('successfully')&&/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:'#007bff',marginTop:'1rem',display:'inline-block'},children:\"Proceed to Login\"})]});}","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","Link","useNavigate","api","toast","jsx","_jsx","jsxs","_jsxs","VerifyEmail","searchParams","navigate","status","setStatus","token","get","email","error","verify","data","message","success","_error$response","_error$response$data","errorMessage","response","style","padding","textAlign","children","includes","to","color","marginTop","display"],"sources":["C:/Users/LAPZONE/pizza-delivery-app/frontend/src/pages/VerifyEmail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSearchParams, Link, useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function VerifyEmail() {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const [status, setStatus] = useState('Verifying your email...');\r\n\r\n  const token = searchParams.get('token');\r\n  const email = searchParams.get('email');\r\n\r\n  useEffect(() => {\r\n    if (!token || !email) {\r\n      setStatus('Invalid verification link.');\r\n      toast.error('Invalid verification link.');\r\n      navigate('/');\r\n      return;\r\n    }\r\n\r\n    const verify = async () => {\r\n      try {\r\n        const { data } = await api.get(`/auth/verify?token=${token}&email=${email}`);\r\n        setStatus(data.message);\r\n        toast.success(data.message);\r\n      } catch (error) {\r\n        const errorMessage = error.response?.data?.message || 'Verification failed. The link may be invalid or expired.';\r\n        setStatus(errorMessage);\r\n        toast.error(errorMessage);\r\n      }\r\n    };\r\n\r\n    verify();\r\n  }, [token, email, navigate]);\r\n\r\n  return (\r\n    <div style={{ padding: '40px', textAlign: 'center' }}>\r\n      <h1>Email Verification</h1>\r\n      <p>{status}</p>\r\n      {status.includes('successfully') && (\r\n        <Link to=\"/login\" style={{ color: '#007bff', marginTop: '1rem', display: 'inline-block' }}>\r\n          Proceed to Login\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,eAAe,CAAEC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACrE,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CACpC,KAAM,CAACC,YAAY,CAAC,CAAGV,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAW,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,yBAAyB,CAAC,CAE/D,KAAM,CAAAe,KAAK,CAAGJ,YAAY,CAACK,GAAG,CAAC,OAAO,CAAC,CACvC,KAAM,CAAAC,KAAK,CAAGN,YAAY,CAACK,GAAG,CAAC,OAAO,CAAC,CAEvCjB,SAAS,CAAC,IAAM,CACd,GAAI,CAACgB,KAAK,EAAI,CAACE,KAAK,CAAE,CACpBH,SAAS,CAAC,4BAA4B,CAAC,CACvCT,KAAK,CAACa,KAAK,CAAC,4BAA4B,CAAC,CACzCN,QAAQ,CAAC,GAAG,CAAC,CACb,OACF,CAEA,KAAM,CAAAO,MAAM,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CACF,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAhB,GAAG,CAACY,GAAG,CAAC,sBAAsBD,KAAK,UAAUE,KAAK,EAAE,CAAC,CAC5EH,SAAS,CAACM,IAAI,CAACC,OAAO,CAAC,CACvBhB,KAAK,CAACiB,OAAO,CAACF,IAAI,CAACC,OAAO,CAAC,CAC7B,CAAE,MAAOH,KAAK,CAAE,KAAAK,eAAA,CAAAC,oBAAA,CACd,KAAM,CAAAC,YAAY,CAAG,EAAAF,eAAA,CAAAL,KAAK,CAACQ,QAAQ,UAAAH,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBH,IAAI,UAAAI,oBAAA,iBAApBA,oBAAA,CAAsBH,OAAO,GAAI,0DAA0D,CAChHP,SAAS,CAACW,YAAY,CAAC,CACvBpB,KAAK,CAACa,KAAK,CAACO,YAAY,CAAC,CAC3B,CACF,CAAC,CAEDN,MAAM,CAAC,CAAC,CACV,CAAC,CAAE,CAACJ,KAAK,CAAEE,KAAK,CAAEL,QAAQ,CAAC,CAAC,CAE5B,mBACEH,KAAA,QAAKkB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,eACnDvB,IAAA,OAAAuB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BvB,IAAA,MAAAuB,QAAA,CAAIjB,MAAM,CAAI,CAAC,CACdA,MAAM,CAACkB,QAAQ,CAAC,cAAc,CAAC,eAC9BxB,IAAA,CAACL,IAAI,EAAC8B,EAAE,CAAC,QAAQ,CAACL,KAAK,CAAE,CAAEM,KAAK,CAAE,SAAS,CAAEC,SAAS,CAAE,MAAM,CAAEC,OAAO,CAAE,cAAe,CAAE,CAAAL,QAAA,CAAC,kBAE3F,CAAM,CACP,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}