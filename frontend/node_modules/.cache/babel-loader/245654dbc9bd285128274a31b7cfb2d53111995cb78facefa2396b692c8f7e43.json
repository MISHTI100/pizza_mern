{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LAPZONE\\\\pizza-delivery-app\\\\frontend\\\\src\\\\pages\\\\MyOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../api';\nimport { toast } from 'react-toastify';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MyOrders({\n  user\n}) {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!user) {\n      toast.info('Please log in to see your orders.');\n      navigate('/login');\n      return;\n    }\n    const fetchOrders = async () => {\n      try {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${user.token}`\n          }\n        };\n        // The backend route is /api/orders/myorders\n        const {\n          data\n        } = await api.get('/orders/myorders', config);\n        setOrders(data);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Could not fetch orders.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchOrders();\n  }, [user, navigate]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading your orders...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '800px',\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You have no orders yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : orders.map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ddd',\n        borderRadius: '8px',\n        padding: '1rem',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          borderBottom: '1px solid #eee',\n          paddingBottom: '0.5rem',\n          marginBottom: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Order ID:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), \" \", order._id, /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              textTransform: 'capitalize'\n            },\n            children: order.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 16\n        }, this), \" \", new Date(order.createdAt).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 16\n        }, this), \" \\u20B9\", order.totalAmount.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Items:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: order.pizzas.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.name, \" (x\", item.quantity, \")\", item.isCustom && ` - ${item.base}, ${item.sauce}`]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)]\n    }, order._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(MyOrders, \"JJEssEshnD00xgBSCCKk50WAgBI=\", false, function () {\n  return [useNavigate];\n});\n_c = MyOrders;\nvar _c;\n$RefreshReg$(_c, \"MyOrders\");","map":{"version":3,"names":["React","useState","useEffect","api","toast","useNavigate","jsxDEV","_jsxDEV","MyOrders","user","_s","orders","setOrders","loading","setLoading","navigate","info","fetchOrders","config","headers","Authorization","token","data","get","error","_error$response","_error$response$data","response","message","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","maxWidth","margin","length","map","order","border","borderRadius","marginBottom","display","justifyContent","borderBottom","paddingBottom","_id","textTransform","status","Date","createdAt","toLocaleDateString","totalAmount","toFixed","pizzas","item","index","name","quantity","isCustom","base","sauce","_c","$RefreshReg$"],"sources":["C:/Users/LAPZONE/pizza-delivery-app/frontend/src/pages/MyOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../api';\r\nimport { toast } from 'react-toastify';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function MyOrders({ user }) {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      toast.info('Please log in to see your orders.');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    const fetchOrders = async () => {\r\n      try {\r\n        const config = {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        };\r\n        // The backend route is /api/orders/myorders\r\n        const { data } = await api.get('/orders/myorders', config);\r\n        setOrders(data);\r\n      } catch (error) {\r\n        toast.error(error.response?.data?.message || 'Could not fetch orders.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchOrders();\r\n  }, [user, navigate]);\r\n\r\n  if (loading) {\r\n    return <div>Loading your orders...</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '20px', maxWidth: '800px', margin: 'auto' }}>\r\n      <h1>My Orders</h1>\r\n      {orders.length === 0 ? (\r\n        <p>You have no orders yet.</p>\r\n      ) : (\r\n        orders.map((order) => (\r\n          <div key={order._id} style={{ border: '1px solid #ddd', borderRadius: '8px', padding: '1rem', marginBottom: '1rem' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', borderBottom: '1px solid #eee', paddingBottom: '0.5rem', marginBottom: '0.5rem' }}>\r\n              <strong>Order ID:</strong> {order._id}\r\n              <span><strong>Status:</strong> <span style={{ textTransform: 'capitalize' }}>{order.status}</span></span>\r\n            </div>\r\n            <p><strong>Date:</strong> {new Date(order.createdAt).toLocaleDateString()}</p>\r\n            <p><strong>Total:</strong> â‚¹{order.totalAmount.toFixed(2)}</p>\r\n            <h4>Items:</h4>\r\n            <ul>\r\n              {order.pizzas.map((item, index) => (\r\n                <li key={index}>\r\n                  {item.name} (x{item.quantity})\r\n                  {item.isCustom && ` - ${item.base}, ${item.sauce}`}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}